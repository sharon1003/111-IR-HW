posted on 02252015 by william lam having a duplicate vm mac address in your environment can lead to an extremely painful day of troubleshooting and it can also be tough to prevent depending on how and where you provision your vms there are two cases that i can think of where a duplicate mac address can potentially occur you manually assign a static mac address versus using dynamic assignment includes vm import and it conflicts with an already assigned mac address you migrate a vm from one v center server to another and the destination v center server has already assigned the mac address of the migrated vmin both of these scenarios when a duplicate mac address occurs time is of the essence to quickly pinpoint the source of the duplicated entry and quickly resolving the conflict what would be nice is to be able to automatically detect that a mac address conflict has occurred and provide the necessary information of the offending vms update 422  thanks to petr it turns out there is another mac address conflict event which i did not know about specifically for detecting duplicate entries for manually assigned mac addresses called  vm static mac conflict  i definitely recommend creating an alarm for both events for the v center alarm while performing some research in my lab environment the other day i accidentally stumbled onto this little tidbit in v center server it turns out there is an out of the box event called  vm mac conflict  which can be triggered using a v center server alarm when a duplicated mac address is detected for a vm i was actually surprised that this was not one of the precreated default alarms in v center server as i can see this being extremely useful to have out of the box in any case it is simple enough to create a new v center server alarm and in the example below i called it dupe vm mac address to test our new alarm i created a new vm called vm1 which has been configured with static mac address that matches vm2 once the vm has been created we can see that the alarm is immediately triggered and by clicking into the alarm details it provides the details of the mac address and the offending vms in my opinion this is an alarm that everyone should create in their environment to ensure that if this problem ever occurs you can quickly get notified and resolve the problem i have also reported this internally and asked if we can have this alarm created by default so hopefully this will not be necessary in the near future more from my site how to split v center servers configured in an enhanced linked mode elm considerations when migrating vms between v center servers duplicate mac address concerns with x vcv motion in v sphere 60quick tip – how to disable the landing page for v center server 5x  6x handy vsan vobs for creating v center alarms detecting a duplicate ip address for your esxi hosts using a v center alarm be sociable share category v sphere v sphere 55 v sphere web client tags alarm mac address v sphere v sphere 51 v sphere 55post navigation← accessing the v sphere web client from a linux desktop ultimate automation guide to deploying vcsa 60 part 2 platform services controller node →6 thoughts on “ detecting duplicate vm mac address using v center server alarm ”fouad says02252015 at 505 pm helloi neeeeeeed this alarm but i don’t see how to create it  thanks for all reply william lam says02252015 at 654 pm here’s the documentation on creating an alarm httpspubsvmwarecomvsphere55indexjsptopic2fcomvmwarevspheremonitoringdoc2fguid79ac1262d7014bc88f8df046ae0578cfhtml reply zach dickinson says03052015 at 850 pm this looks like it might be only available in one of the later updates for 55 new v san cluster for dr has it but my “old” production cluster does not in fact there are only a few vm checks in production with many dozens available in dr reply petr says04222015 at 1148 am hello williamjust in addition to your post in our environment 51u3 we are using event “vm static mac conflict” which work as expected event “vm mac conflict” doesnt trigger any alarm when manuallyauto assigned mac addresses confilcts between vms …reply william lam says04222015 at 712 pm hi petrthank you very much for sharing this tidbit i didn’t know we had a different event for static mac address assignment i’ve gone ahead and updated the blog post to reflect this additional information replyvirtigogo says02242017 at 813 am thanks for this william i want to do the opposite – i want to ignore the vm mac conflict alarm in my testing with v sphere 65 is there a way to do that reply thanks for the comment 