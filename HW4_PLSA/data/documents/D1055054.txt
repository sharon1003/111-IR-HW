the mtp setup information inf file microsoft provides a set of class drivers to support the media transfer protocol mtp if your device supports mtp you can use one of these drivers in addition to the class drivers microsoft provides a setup information inf file to install a class driver this file is named wpd mtpinf if your mtp device has unique requirements create a new setup information inf file that is based on the original version of wpd mtpinf you cannot modify wpd mtpinf directly the following table describes specific needs directives that are found in wpd mtpinf and possible modifications that you can make to the sections that are identified by a given directive the entries in the following table can support any of three transports usb ip or bluetooth be aware that each transport requires a unique installation section also be aware that the bluetooth transport is only supported in windows 7 needs directive description needs  wpd mtp winusb nt the wpd mtp section identifies the driver files that will be copied and registered the following applies to windows vista and windows media player 11 ddinstall include  wpdmtpinf needs  wpd mtpstarting with windows 7 win usbsys replaces wpd usbsys as the lower filter driver for mtp devices that connect to the computer by using usb the following directive is required for a vendorâ€™s inf to include win usbinf and a specific win usb section ddinstall include  wpdmtpinf winusb inf needs  wpd mtp winusb ntneeds  wpd mtp registration the wpd mtp registration section accomplishes four tasks registers the kernelmode driver including wpdusbsys as the lower filter driver if you are installing the device on windows vista or windows xp enables default mtp auto play support enables legacy application compatibility support the default value 0x ffffffff allows the wpd class installer to query the devices capabilities sets the transport drivers class identifier  ddinstallhw include  wpdmtpinf needs  wpd mtp registration needs  wpd mtp registration basic the wpd mtp registration basic section lets you customize tasks 2 and 3 in the previous list for example you can set the application compatibility to support windows image acquisition wia by using a value of 0x01 or windows media device manager wmdm by using a value of 0x02  ddinstallhw include  wpdmtpinf needs  wpd mtp registration basic needs  wpd mtp services the wpd mtp services section adds driver services and default service parameters this includes wudf and wpdusbsys for windows vista and windows xp only  ddinstall services include  wpdmtpinf needs  wpd mtp services needs  wpd mtp co installers the wpd mtp co installers section identifies the coinstaller to install an mtp device a windows usermode driver framework umdf coinstaller is used this section is required for windows 7 windows vista and windows media player 11 it was not required for an mtp driver that supported windows media player 10  ddinstall co installers include  wpdmtpinf needs  wpd mtp co installers needs  wpd mtp wdf the wpd mtp wdf section identifies the windows usermode driver framework umdf service and its binary  wpdmtpdrdll  this section is required for windows 7 windows vista and windows media player 11 it was not required for an mtp driver that supported windows media player 10  ddinstall co installers include  wpdmtpinf needs  wpd mtp wdf send comments about this topic to microsoft