docs  net  net guide file and stream iohow to write text to a file march 30 2017 6 minutes to read contributorsall in this article example example example example example see also this topic shows different ways you can write text to a file for  net framework applications or windows 8x store apps the following classes and methods are typically used to write text to a file stream writer  it contains methods to write to a file synchronously  write or write line or asynchronously  write async and write line async  file â€“ to be used with  net framework applications it provides static methods to write text to a file such as write all lines and write all text or to append text to a file  append all lines append all text or append text  file io  to be used with windows 8x store apps it contains asynchronous methods to write text to a file  write lines async or write text async or to append text to a file  append lines async or append text async  the samples have been kept simple in order to focus on the task being performed for this reason the samples perform minimal error checking and exception handling if any a realworld application generally provides more robust error checking and exception handling example the following example shows how to synchronously write text to a new file using the stream writer class one line at a time the new text file is saved to the users my documents folder because the stream writer object is declared and instantiated in a using statement the dispose method is invoked which automatically flushes and closes the stream create a string array with the lines of text string  lines   first line second line third line   set a variable to the my documents path string mydocpath  environment get folder path environment special folder my documents  write the string array to a new file named write linestxt using stream writer output file  new stream writer mydocpath  write linestxt  foreach string line in lines output file write line line example the following example shows how to append text to an existing file using the stream writer class it uses the same text file from the previous example set a variable to the my documents path string mydocpath  environment get folder path environment special folder my documents  append text to an existing file named write linestxt using stream writer output file  new stream writer mydocpath  write linestxt true  output file write line fourth line example the following example shows how to asynchronously write text to a new file using the stream writer class in order to invoke the write async method the method call needs to be within an async method the new text file is saved to the users my documents folderstatic async void write text async string text   set a variable to the my documents path string mydocpath  environment get folder path environment special folder my documents  write the text asynchronously to a new file named write text asynctxt using stream writer output file  new stream writer mydocpath  write text asynctxt  await output file write async text  example the following example shows how to write text to a new file and append new lines of text to the same file using the file class the write all text and append all lines methods open and close the file automatically if the path you provide to the write all text method already exists the file will be overwritten create a string array with the lines of text string text  first line  environment new line  set a variable to the my documents path string mydocpath  environment get folder path environment special folder my documents  write the text to a new file named write filetxt file write all text mydocpath  write filetxt text  create a string array with the additional lines of text string  lines   new line 1 new line 2   append new lines of text to the file file append all lines mydocpath  write filetxt linesexample the following example shows how to asynchronously write user input to a text file in a windows 8x store app because of security considerations opening a file from a windows 8x store app typically requires the use of a file open picker control in this example the file open picker is filtered to show text filespage x classopen file windows store main page xmlnshttpschemasmicrosoftcomwinfx2006xamlpresentation xmlnsxhttpschemasmicrosoftcomwinfx2006xaml xmlnslocalusing open file windows store xmlnsdhttpschemasmicrosoftcomexpressionblend2008 xmlnsmchttpschemasopenxmlformatsorgmarkupcompatibility2006 mc ignorabled grid background theme resource application page background theme brush button contentsave text to a file horizontal alignmentleft margin10341700 vertical alignmenttop width329 height86 font size35 clickbuttonclick text box nameuser input text box font size18 horizontal alignmentleft margin10614600 text wrappingwrap textwrite some text here and select a file to write it to vertical alignmenttop height201 width558 accepts returntrue text block namestatus text box horizontal alignmentleft margin1065700147 text wrappingwrap textstatus vertical alignmentcenter height51 width1074 font size18  grid pageusing system using system io using system runtime interop services windows runtime using windows ui xaml using windows ui xaml controls using windows storage using system text using windows storage pickers using windows ui popups namespace open file windows store  public sealed partial class main page  page  public main page   this initialize component    create a file picker to open a file most file access in windows store apps  requires the use of a file picker for security purposes file open picker picker  new file open picker  private async void buttonclick object sender routed event args e   set properties on the file picker such as start location and the type  of files to display picker suggested start location  picker location id documents library picker view mode  picker view mode list picker file type filter add txt  show picker enabling user to pick one file storage file result  await picker pick single file async  if result  null  try   use file io to replace the content of the text file await file io write text async result user input text box text  display a success message status text box text  status file saved successfully  catch exception ex   display an error message status text box text  status error saving the file    ex message   else status text box text  status user cancelled save operation   see also stream writer file create text how to enumerate directories and files how to read and write to a newly created data file how to open and append to a log file how to read text from a file file and stream ionote the feedback system for this content will be changing soon old comments will not be carried over if content within a comment thread is important to you please save a copy for more information on the upcoming change we invite you to read our blog post feedback edit share  language theme file and stream iocommon io tasks how to copy directories how to enumerate directories and files how to read and write to a newly created data file how to open and append to a log file how to write text to a file how to read text from a file how to read characters from a string how to write characters to a string how to add or remove access control list entries how to compress and extract files composing streams how to convert between  net framework streams and windows runtime streams asynchronous file ioisolated storage pipes memorymapped files download pdf 