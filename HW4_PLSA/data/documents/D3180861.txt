master data cleanup activity april 3 2013  2067 views debjit singhamore by this author bw sap business warehousedata warehosuing enterprise data warehousing  business warehouseshare0share0tweet share0follow objective we might encounter a situation where we need to clean up master data tables and sap does not allow deletion of master data that is in use we need to find out what entries are in use and what can be deleted introduction there are 3 flags chckfl datafl and incfl in sid tables these fields gets updated depending upon the where used list of an entrysid sid flags are bi locked data elements and play an important role to keep sap bw data consistent by providing locking over data chckfl – flag value in check tables indicates some entries in master data table is still in use by other objects datafl – flag value in dimension or available as attribute some other infocube s isare still using sid – master data table incfl – flag value is built into all inclusion tables some other hierarchies is still using sid – master data table value in other words flag values indicate that data is still linked to other objects in bw sid flag matrix revisited sidchckflflag value incheck tables dataflflag value indimension oravailable as attribute incflflag value isbuilt into allinclusion tables remarks master data canbe deleted with sid’s0 x x xthis entry appears if transaction data loaded before master data no number – – xsid is in use in dimentation table of cube s or in hierarchy no number x – xsid is in use in dimentation table of cube s or in hierarchy anddata is also in use in p or q table master data tableno number x x xis in use in dimentation table any active table of dsono number – x xis part of attribute of another master data infoobject and alsodeclared as nav attribute no number – – – yes number x – –data entered in master data table or text table infoobject withonly text table and not in use in any other tables yes number – x xif an infoset is created on top of infoobject then sid’s will becreated for all infoobject included in infoset yes how deletion process normally works is if an entry is in use by some other object then we are not allowed to delete that master data along with sid entries so there are 2 approach that we can followidentifying all valid master data from source system and then perform selective deletion delete master data this will only delete records which are not in uselocked by other objects later we can check the log to find the where use list in below example we are going to follow the 2nd process although both process are similar check the sid table of that info object in this example we are taking info object media type  comparing entries of sid table with flag matrix we can conclude that 4 entries were not used in any other object except own master data so 4 entries can be deleted now right click on the master data and select master data s elect “with sids” this will delete master data along with respective sid entries from sid table after checking the locked status of data system prompt as deletion of locked used entries are not allowed system prompts us again select delete master data deletion process start a background process”note only unlocked entries were deleted along with sid’s now check the log entries of above process log will reveal how many entries were deleted and lock status of remaining entries go to tcode sgl1 details object – rsdmdsubobject – mddeluser – uid used for deletion activity analyzing the log entries top 10 lines says that sid’s are in use in p table master data table of an infoobject where “media type” is defined as navigational attribute as 10 entries are already in use job ignore those entries4 entries got deleted sid 14 15 16 and 17 these entries are only inserted into media type master data and are not in use in any other object note tcode sgl1 can be used to find other application log process as well we can even use st14db02 to identify top master data tables feel free to leave your comment sthis article is a continuation of another article “ analysis of sid tables in sap bw “ httpscnsapcomdocsdoc39856alert moderator