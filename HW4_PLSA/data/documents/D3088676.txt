server fault is a question and answer site for system and network administrators join them it only takes a minute sign up heres how it works anybody can ask a question anybody can answer the best answers are voted up and rise to the topetcinitdssh restart does not reload the configurationup vote2down votefavorite ive added a chroot configuration to my etcsshsshdconfig i reload the configuration file using etcinitdssh reload then try to connect using an sftp client but nothing changes the user is able to log in but is not chrooted however if i manually start an ssh daemon on a different port with usrsbinsshd p2222 the new configuration gets loaded and the chroot applies any hint why etcinitdssh reload would not actually reload the configuration  additional info same issue happens if i use restart instead while reloadingrestarting i have an open connection to the server for my root access im running debian wheezyssh debian sftpshare improve this questionasked apr 29 15 at 850raphael k23 1 4do you have the same behaviour if you make stop and then start – alphamikevictor apr 29 15 at 933add a comment2 answers active oldest votesup vote1down vote instead of running etcinitdssh restart use service ssh restart on ubuntu 14042 the config changes will not occur when calling the init script directly its quite likely that debian is the same hereshare improve this answeredited jun 26 15 at 1554greg l5843 1 17 27answered jun 26 15 at 1048kevin campbell11 1this answer sounded implausible to me so i tested it on an ubuntu 14044 system and it turns out this is indeed correct in the case of ubuntu i dont have a debian system suitable for testing this – kasperd apr 23 16 at 1138add a commentup vote0down vote turns out that neither restart or even stop  start was sufficient as it wouldnt kill the running daemon of sshd i had to grab a physical access to the server stop then kill sshd pid so that the server wouldnt accept any new incoming connection and then start again the daemonshare improve this answeranswered apr 29 15 at 1020raphael k23 1 45you could have done this remotely killing the listening daemon doesnt touch running ssh sessions that said it sounds like you changed the pid file location in addition to other config changes as ive never experienced having the ssh daemon not restarting – wurtel apr 29 15 at 1207thanks for the advice about killing the daemon i will try it out – raphael k apr 29 15 at 1543add a comment your answer sign up or log in sign up using google sign up using facebook sign up using email and password post as a guest name email by posting your answer you agree to the privacy policy and terms of service not the answer youre looking for browse other questions tagged ssh debian sftp or ask your own questionasked2 years 11 months agoviewed5229 timesactive1 year 11 months ago related1 added user to cent os updated sshdconfig with allow users login denied3 increasing permissivenesspermissions for umask  openssh  chrooted sftp server using internalsftp0 problem with upgrading open ssh to the latest version7 ssh  cannot start sftpserver when trying to force internal sftp0 ubuntu sftp  chrooting12 apache2ctl 87 ulimit error setting limit operation not permitted2 setting up a chroot sftp on debian server1 why would sshd daemon fail a connection that manually started usrsbinsshd permits1 match group restriction in sshdconfig does not work10 my sql workbench with debian jessie  tcpip over ssh does not work hot network questions like a swiss watch what would cause this kind of amplitude interference on my adc recording find if any of the rows partially match a string how is this checkmate unnest a list column into several columns what makes a theory quantum paraphrased lyrics 2alternatives to running query for rarely changed data everytime on large tablehow to fill the junction how do i tell someone i recently met that i am in a relationship my friend sent me a photo of his keyboard but theres something i cant figure out about it coworker keeps opening blind which makes it difficult to see my screen what to look for in a kitchen scale turing machine  time dilation  solve the halting problem how do i answer a question about not enjoying a party without revealing sensitive information why is ph d gpa considered irrelevant thespians stage attacking and damage why am i committing a fallacy when i am just insulting someone high performing employee broke up with his girlfriend and it seems to be affecting his performance did ben gurion say this about conquering palestinian land why is there so much focus on producing less co₂ rather than investing in technology to recycle it searching for a short story about people being stuck together how can i work in a chauvinistic male dominated environment where the women are no better which open type math fonts are availablequestion feed 