virtual box shared folders with cent os server guest dep ref httpwwwericlinmevirtualboxsharedfolderswithcentosserverguest i have recently switched from mac book pro to mac mini for my development machine and i have also switched from vmware to virtual box simply for the sake of open source because the new mac mini gives me 16gb of ddr3 ram which gives me the power to run my own virtual server machine as my sandbox to develop on to make my life a bit easier i want to share my coding folder on mac mini with the server in the virtual machine so that i don’t need to keep syncing files manually luckily virtual box supports this but need a bit of work to get it going in this article i will be creating a shared folder within virtual box that will link my usersericlinprojects directory with one on the cent os box under mntprojects firstly within virtual box select the guest machine you wish to contain the shared folder press the settings button and choose the folder that you want to share on your host machine and give appropriate access level start your guest machine and login as normal select devices  install guest additions this will insert an iso image into the cdrom but we need to mount it manually123sudo mkdir mediacdromsudo mount devcdrom mediacdrommount block device devsr0 is writeprotected mounting read only now if you do “ls” on mediacdrom you will see the following contents run file “vbox linux additionsrun” to install the addition1 sudo mediacdromvbox linux additions run running it the first time i got the following error to fix it simply do what it asks you to do1 yum install kerneldevel2632279el6x8664wait for it to finish and try again with previous commandif errors still exist tryyum groupinstall development tools1 sudo mediacdromvbox linux additions run don’t worry about the failed message in the last line we are running the server version not the desktop version so no window system is required once everything is finished reboot the virtual machine1 sudo reboot lastly you just need to mount the folder i created the directory that is going to be mounted to mntprojects1 sudo mkdir mntprojects now you just need to mount the shared folder to the newly created directory using the following command 1 sudo mount –t vboxsf usersericlinprojects mntprojects then you should be able to12cd mntprojectsls sh if you want the foler to be mounted automatically on start up add the following line to your etcfstab file1 projects homeericlinem vboxsf defaults 0 0mediasfshare namecreate sshnow before you do anything we need to disable selinux i am assuming you know a little bit of vi editor here which is the default text editor in cent os linux if you do not know how to use vi editor please read about it a bit before you proceed further edit the file etcsysconfigselinux to disable it change the string from selinuxenforcing to selinuxdisabled save it and exit now selinux is disabled we now need to fix our networking to do that we need to edit our network file at this location  etcsysconfignetworkscriptsifcfgeth0remove hwaddr line and change onboot”no” to onboot”yes” save the file and exit now the changes are made restart network for gaining network access to this server to restart network simply run the command “ service network restart ”now we have network to our server almost done and we are at our final stretch we just need to open up port 22 from outside this server to make the ssh connection come into server to do that open up vm settings one more time from main virtual box window leave the console window behind – no need to shutdown click on network navigation item and then click on port forwarding add port 22 to the list of ports that you want main computer forward into this guest cent os virtual machine save these settings and you are ready to access this cent os vm server secure shell from any where in your network you can also forward other ports like 8033065432 etc if you want to make this vm a webserver or database server in future one modification that you might have to do it enable that new port in your iptables and restart iptables for server to start listening to that port the following environment oracle virtual box 4110cent os 62i386minimal i want a clean linux system so i can add just the necessary packagemac os x 1073everything went well to install the cent os in the virtual box then i wanted to configure the ssh for the connivence connection from my mac terminal firstly configured the network between host mac os and guest cent os in the virtual box for this cent os instance the network type is nat and add port forwarding for the 22 port of ssh then configure the ssh i created a new user called “will” to allow this user to login in the etcsshsshdconfig add allow users willthen restart sshd but it still couldn’t log in from mac terminal check the network by using ifconfig found that there was not eth0 which is the interface for ethernet that meant that the ethernet interface was not running the solution is to make the eth0 running when the system boot in the etcsysconfignetworkscriptsifcfgeth0onbootyesthen reboot the system finally the mac terminal can log in the cent os be the first to post a comment 