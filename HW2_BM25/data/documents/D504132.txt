history invention by ibmsmb is not very old but it has a long history of modifications and extensions the original protocol was meant to run over net bios which was the name of the dos interface to a very simple lan system developed by ibm net bios was developed because sna ibms other main protocol at the time was much too advanced for use in dos the net bios api in these days early eighties was nothing more then the interface to a very simple linklayer protocol over which several protocols including smb were used it could do reads and writes to services on remote hosts which were identified by caseinsensitive names and discover all available hosts and services dr barry feigenbau an ibm employee invented the core of the original smb protocol which he initially named after himself baf he later changed the name to be smb for server message block every packet in the protocol starts with a byte 0x ff and these three letters ibm microsoft 3com and intel made up the rest of the initial protocol together the commands the protocol supported at this stage were basically a mirror of the dos file io api calls which meant the protocol wasnt very efficient the protocol also lacked authentication support everybody on the network could do reads and writes which meant this protocol wasnt very suitable for large enterprises net bios is an api that has had various implementations there is net bios over tcpip nbt net bios over ipx net bios over sna and even net bios over decnet mostly used these days is net bios over tcp nbt this is also were things are starting to get hairy since net bios identifies hosts by their name net bios clients had to start doing ip broadcasts to figure out the ip of the host they had to connect to several schemes were introduced to do name lookups crossing subnet boundaries using name servers etc were basically emulating a net bios lan in order to be able to run smb doing net bios over ip is not very sane however the nbt implementation itself in windows isnt very nice either it has horrible limits special exceptions several broken schemes for looking up names including two kinds of name servers net bios and net bios over tcpip are described in rfc1001 and rfc1002 the various incarnations of smbover the years several usage models for smb have been developed while smb originally started out as a file sharing protocol it was later extended to include support for network management and other network services as well one of the reasons for the various upgrades of the smb protocol is the fact that networks have become larger and larger and with them the need for privilege separation and scalability has increased dosthe original model in which smb was used was as a simple filesharing service in a net biosenvironment file sharing worked basically by specifying a list of directories that had to be shared and what name they had to be shared under shares eventually one could passwordprotect a share at most one password per share could be set windows for workgroups after the core dialect ibm and microsoft implemented a new dialect known as lanman this dialect was used by windows for workgroups os2 and windows 9x which all know it under a different name a virtual file system was also added which was used for doing remote function calls rap for remote administration protocol computers are grouped into workgroups in this model everybody is equal to the others and there is no central point of control windows ntfor windows nt yet another dialect was added named nt the nt dialect had its own set of file io functions similar to the nt file io api and it had support for yet another way of doing remote function calls dcerpc rpcs are used for dcom and several of the subsystems in nt that can be accessed remotely registry printing user management logging on etc windows nt works with a new concept for grouping computers called domains  1 each computer is member of exactly one domain there are several roles a computer can have in the domain pdc primary domain controller the manager of the domain that coordinates all authentication and authorization bdc backup domain controller in case the pdc goes down or just a regular domain member the pdc decides who is to be a member of the domain windows 2000in windows nt 5 marketing name windows 2000 net biosless smb was introduced this means smb is used directly over tcp port 445 instead of via net bios over tcpip dns is used for looking up machine names windows 2000 was also the first operating system from microsoft that had support for active directory active directory is very similar to the domain concept used by nt4 though it is implemented differently using modified open protocols and has some additional features one of the most important ones being decentralized active directory no longer uses a central point of authority and there are fewer limits to the size of a domain several dcs can exist so there is no longer a single point of failure as well as better scalability samba versions and their support for the smb models samba 22full core and workgroup support somewhat basic nt4style support samba 30full core and workgroup support almost complete nt4style support samba 32fixmesamba 40full core workgroup nt4 and ads support 